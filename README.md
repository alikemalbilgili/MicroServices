<div align="center">

<p align="center">
<img src="https://img.shields.io/badge/YAML-CB171E.svg?style=plastic&logo=YAML&logoColor=white" alt="YAML" />
<img src="https://img.shields.io/badge/Docker-2496ED.svg?style=plastic&logo=Docker&logoColor=white" alt="Docker" />
<img src="https://img.shields.io/badge/GitHub%20Actions-2088FF.svg?style=plastic&logo=GitHub-Actions&logoColor=white" alt="GitHub%20Actions" />
<img src="https://img.shields.io/badge/JSON-000000.svg?style=plastic&logo=JSON&logoColor=white" alt="JSON" />
</p>
<img src="https://img.shields.io/github/license/alikemalbilgili/MicroServices?style=plastic&color=5D6D7E" alt="GitHub license" />
<img src="https://img.shields.io/github/last-commit/alikemalbilgili/MicroServices?style=plastic&color=5D6D7E" alt="git-last-commit" />
<img src="https://img.shields.io/github/commit-activity/m/alikemalbilgili/MicroServices?style=plastic&color=5D6D7E" alt="GitHub commit activity" />
<img src="https://img.shields.io/github/languages/top/alikemalbilgili/MicroServices?style=plastic&color=5D6D7E" alt="GitHub top language" />
</div>




##  Overview

The repository "MicroServices" is a collection of microservices that provide a scalable and modular solution for handling commands. It includes a CommandsService component that handles incoming commands and utilizes an AsyncDataServices module for asynchronous message handling. With its flexible architecture, the repository enables the building of robust and distributed systems, offering a valuable toolset for command-based applications.

---





##  Modules

<details closed><summary>Root</summary>

| File                                                                                              | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ---                                                                                               | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [Microservices.sln](https://github.com/alikemalbilgili/MicroServices/blob/main/Microservices.sln) | The code represents a directory tree structure containing two projects: "PlatformService" and "CommandsService". Each project consists of several folders and files, including Controllers, Data, Dtos, Models, Profiles, and SyncDataServices. These projects are part of the larger solution file "Microservices.sln" and include dependencies, configuration files, and deployment files for Kubernetes (K8S). The code represents a microservices architecture for building and deploying platforms and executing commands, with support for messaging, database operations, and data transfer objects. |

</details>

<details closed><summary>K8s</summary>

| File                                                                                                                  | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ---                                                                                                                   | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [platforms-np-srv.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/platforms-np-srv.yaml)         | The code is defining a Kubernetes service named "platformsnpservice-srv". It is of type "NodePort" and is associated with the "platformservice" app. The service listens on port 80 and forwards the traffic to the target port 80 using TCP protocol.                                                                                                                                                                                                    |
| [postgresql-plat-depl.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/postgresql-plat-depl.yaml) | The code is a Kubernetes configuration file that defines the deployment and service for a PostgreSQL database. The deployment specifies the container image to use, sets environment variables for the database name, username, and password, and mounts a volume for persistent storage. The service exposes the database container's port for internal cluster communication and also creates a load balancer to allow external access to the database. |
| [local-pvc.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/local-pvc.yaml)                       | The code in the file "local-pvc.yaml" defines a Persistent Volume Claim (PVC) for a Kubernetes cluster. It specifies the name of the PVC as "postgresql-claim" and sets the access modes to "ReadWriteMany" to allow multiple pods to read from and write to the PVC. The PVC requests a storage capacity of 200Mi.                                                                                                                                       |
| [ingress-srv.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/ingress-srv.yaml)                   | The code represents a Kubernetes Ingress resource named "ingress-srv" which routes incoming requests to different services based on the specified paths. It uses the NGINX ingress controller and regex matching. Requests with the path "/api/platforms" are forwarded to the "platforms-clusterip-svc" service, while requests with the path "/api/c/platforms" are forwarded to the "commands-clusterip-svc" service.                                  |
| [commands-depl.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/commands-depl.yaml)               | The code represents a Kubernetes deployment and service configuration file for a "CommandService" microservice. The deployment specifies a replica set of 1 and links it to an image hosted on Docker Hub. The service is of type ClusterIP and exposes ports 80 and 666 for communication within the cluster.                                                                                                                                            |
| [rabbitmq-depl.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/rabbitmq-depl.yaml)               | The code defines a Kubernetes deployment and services configuration for RabbitMQ, a message broker system. It creates a deployment with a single RabbitMQ instance running inside a container, exposing ports for management and messaging. Two services are created, one with a ClusterIP for internal communication and another with a LoadBalancer for external access to the RabbitMQ instance.                                                       |
| [platforms-depl.yaml](https://github.com/alikemalbilgili/MicroServices/blob/main/K8S/platforms-depl.yaml)             | The code is defining a deployment and service configuration for a "platformservice" in Kubernetes. The deployment specifies that there should be 1 replica of the "platformservice" container, which uses the "aliblgl/platformservice:latest" image. The service is of type ClusterIP and exposes ports 80 and 666 for accessing the platformservice.                                                                                                    |

</details>

<details closed><summary>Platformservice</summary>

| File                                                                                                                                    | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ---                                                                                                                                     | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [PlatformService.csproj](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/PlatformService.csproj)             | The code represents the project file for the PlatformService microservice. It is a web application built on the Microsoft.NET framework targeting version 7.0. It includes package references for AutoMapper, Grpc.AspNetCore, Microsoft.EntityFrameworkCore, Npgsql.EntityFrameworkCore.PostgreSQL, RabbitMQ.Client, and Swashbuckle.AspNetCore. It also includes a protobuf file for defining the service interface.                                                                                                  |
| [dockerfile](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/dockerfile)                                     | The code above is a Dockerfile for the PlatformService microservice. It specifies two stages: the build stage and the runtime stage. In the build stage, it uses the dotnet SDK to compile the application and create the publish output. In the runtime stage, it uses the dotnet ASP.NET runtime to run the application. The Dockerfile copies the publish output from the build stage to the runtime stage and sets the entry point as "dotnet PlatformService.dll" to start the microservice.                       |
| [appsettings.Development.json](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/appsettings.Development.json) | The code provided is a JSON configuration file named "appsettings.Development.json" located in the "PlatformService" directory. It contains various settings for the platform service application. It includes settings for logging, connection strings for connecting to a PostgreSQL database, a RabbitMQ message broker host and port information, and a URL for accessing the command service API.                                                                                                                  |
| [appsettings.Production.json](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/appsettings.Production.json)   | The code represents a directory tree containing two microservices: `CommandsService` and `PlatformService`. The `appsettings.Production.json` file in the `PlatformService` microservice specifies various configuration settings for the application, including logging levels, allowed hosts, connection strings for a PostgreSQL database, and endpoints for communication with the `CommandsService` microservice and RabbitMQ. It also defines different URLs and protocols for the microservice's Kestrel server. |
| [Program.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Program.cs)                                     | The code represents the Program.cs file in the PlatformService directory of a microservices project. It sets up the necessary services and configurations for the platform service. This includes adding dependencies such as HttpClient, message bus client, gRPC, and controllers. The code also configures the database connection based on the environment (production or development) and sets up Swagger for API documentation. Finally, it prepares the population of the database and runs the application.     |

</details>

<details closed><summary>Migrations</summary>

| File                                                                                                                                                                             | Summary                                                                                                                                                                                                                                                                                                                                                                                                       |
| ---                                                                                                                                                                              | ---                                                                                                                                                                                                                                                                                                                                                                                                           |
| [AppDbContextModelSnapshot.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Migrations/AppDbContextModelSnapshot.cs)                               | The code provided represents the model snapshot for the `PlatformService` database. It uses Entity Framework Core and PostgreSQL. The code defines the schema and properties of the `Platform` entity, including its `Id`, `Name`, `Publisher`, and `Cost`. The `Id` property is generated automatically, and all properties are required. The entity is mapped to a table named "Platforms" in the database. |
| [20230918211639_InitialMigration.Designer.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Migrations/20230918211639_InitialMigration.Designer.cs) | The code is a migration file generated for the Initial Migration of the AppDbContext in the PlatformService. It uses the Entity Framework Core to define the target model for the database. The model includes a "Platform" entity with properties such as Id, Cost, Name, and Publisher. The migration file sets up the table structure and data types for the "Platforms" table in the database.            |
| [20230918211639_InitialMigration.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Migrations/20230918211639_InitialMigration.cs)                   | The code is a migration file written in C# using Entity Framework for a database schema in a microservices architecture. Specifically, the code creates a table called "Platforms" with columns for "Id", "Name", "Publisher", and "Cost". It also includes the necessary code to generate a primary key for the table. The `Up` method creates the table, while the `Down` method drops the table if needed. |

</details>

<details closed><summary>Protos</summary>

| File                                                                                                                 | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ---                                                                                                                  | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [platforms.proto](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Protos/platforms.proto) | The code represents a directory tree structure for a microservices project. The structure includes two main services: `CommandsService` and `PlatformService`. In the `PlatformService`, there is a `platforms.proto` file that defines a gRPC service called `GrpcPlatform`. This service has a single method called `GetAllPlatforms` that takes no input and returns a `PlatformResponse` message. The `PlatformResponse` message contains a list of `GrpcPlatformModel` messages, which represent different platform entities.Overall, the code structure represents a microservices project with two services, each having its own set of controllers, data entities, and gRPC definitions for communication between services. |
| [platforms.proto](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Protos/platforms.proto) | Exception:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

</details>

<details closed><summary>Asyncdataservices</summary>

| File                                                                                                                                            | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ---                                                                                                                                             | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [MessageBusClient.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/AsyncDataServices/MessageBusClient.cs)         | The code represents a class called "MessageBusClient" that is responsible for publishing messages to a RabbitMQ message broker. It establishes a connection to the broker, declares an exchange, and provides a method for publishing new platform messages. The message is serialized as JSON and sent through the RabbitMQ channel. The class also handles connection shutdown and provides a disposal method to close the connection and channel.                            |
| [IMessageBusClient.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/AsyncDataServices/IMessageBusClient.cs)       | The code represents an interface, `IMessageBusClient`, located in the `PlatformService/AsyncDataServices` directory. It defines a single method, `PublishNewPlatform`, which takes a `PlatformPublishedDto` object as a parameter. This interface is used for publishing information about a new platform to a message bus.                                                                                                                                                     |
| [MessageBusSubscriber.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/AsyncDataServices/MessageBusSubscriber.cs) | The code defines a class called MessageBusSubscriber, which is responsible for subscribing to a message bus and processing received events. It initializes a connection to a RabbitMQ server, creates a queue, and binds it to an exchange. It then sets up a consumer that listens for events received on the queue and processes them using an event processor. The class also handles connection shutdown and implements the necessary cleanup when disposing of the object. |

</details>

<details closed><summary>Models</summary>

| File                                                                                                         | Summary                                                                                                                                                                                                                                                                                                                                                                        |
| ---                                                                                                          | ---                                                                                                                                                                                                                                                                                                                                                                            |
| [Platform.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Models/Platform.cs) | The code snippet defines a class called "Platform" in the "PlatformService/Models/Platform.cs" file. This class represents a platform entity and has properties such as "Id", "Name", "Publisher", and "Cost". These properties are decorated with data annotations such as "Required" and "Key".                                                                              |
| [Command.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Models/Command.cs)   | The code above represents the "Command" model class in the "CommandsService" directory of the project. It defines the properties and data annotations for a command entity, including its ID, how-to description, command-line input, and the ID of the associated platform. The model also includes a navigation property for the platform entity.                            |
| [Platform.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Models/Platform.cs) | The code snippet defines a model class called "Platform" in the "CommandsService" directory. The class has properties for "Id", "ExternalId", and "Name", each with specific validation attributes. It also includes a collection property for "Commands" which is a list of "Command" objects. The "Platform" model is used to represent a platform entity in an application. |

</details>

<details closed><summary>Grpc</summary>

| File                                                                                                                                              | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ---                                                                                                                                               | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [GrpcPlatformService.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/SyncDataServices/Grpc/GrpcPlatformService.cs) | The code is a class called `GrpcPlatformService` in the `Grpc` folder within the `SyncDataServices` folder of the `PlatformService` directory. It is responsible for implementing the gRPC service for retrieving all platforms. The service takes a request object and a server call context, and returns a response object. Inside the service, it uses an instance of `IPlatformRepo` and `IMapper`. It retrieves all platforms from the platform repository and maps each platform to a gRPC platform model using the mapper. The mapped platforms are then added to the response object, which is returned as a task. |
| [IPlatformDataClient.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/SyncDataServices/Grpc/IPlatformDataClient.cs) | The code represents an interface called "IPlatformDataClient" that defines a method called "ReturnAllPlatforms". This interface is located in the "SyncDataServices/Grpc" directory of the "CommandsService" project. It is used to retrieve a collection of "Platform" objects from a data source.                                                                                                                                                                                                                                                                                                                        |
| [PlatformDataClient.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/SyncDataServices/Grpc/PlatformDataClient.cs)   | The code is a C# class called PlatformDataClient, which is responsible for communicating with a gRPC platform service. It uses the AutoMapper library to map the response from the gRPC service to a collection of Platform models. The class takes in an IConfiguration and IMapper as dependencies, which are used to configure the gRPC channel and perform the mapping. The ReturnAllPlatforms method sends a request to the gRPC service to retrieve all platforms and returns them as a collection of Platform models, or null if there is an error.                                                                 |

</details>

<details closed><summary>Http</summary>

| File                                                                                                                                                  | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ---                                                                                                                                                   | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [HttpCommandDataClient.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/SyncDataServices/Http/HttpCommandDataClient.cs) | The code above represents the HTTP data synchronization functionality of the PlatformService. It defines a class called `HttpCommandDataClient` that implements the `ICommandDataClient` interface. This class is responsible for sending platform data to the CommandService via an HTTP POST request. It uses the `HttpClient` class to send the request and the `IConfiguration` interface to retrieve the command service URL from the configuration. The `SendPlatformToCommand` method serializes the platform data to JSON, creates an HTTP request with the serialized data as the request body, and sends it to the command service. It then checks the response status and outputs a success or failure message accordingly. |
| [ICommandDataClient.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/SyncDataServices/Http/ICommandDataClient.cs)       | The code represents an interface called "ICommandDataClient" in the "SyncDataServices" namespace under the "Http" folder of the "PlatformService" project. This interface defines a method called "SendPlatformToCommand" that takes a parameter of type "PlatformReadDto" and returns a task. This interface is used for sending platform data to the command service in a synchronous manner.                                                                                                                                                                                                                                                                                                                                        |

</details>

<details closed><summary>Dtos</summary>

| File                                                                                                                               | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ---                                                                                                                                | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [PlatformCreateDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Dtos/PlatformCreateDto.cs)       | The code defines a Data Transfer Object (DTO) called PlatformCreateDto in the Dtos folder of the PlatformService project. The PlatformCreateDto class has three properties: Name, Publisher, and Cost, all of which are string types. This DTO is likely used to transfer data for creating a platform in the application.                                                                                                                                                                                     |
| [PlaformPublishedDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Dtos/PlaformPublishedDto.cs)   | The code provided is a C# class called `PlatformPublishedDto` located in the `PlatformService/Dtos` directory. It contains three properties: `Id` of type int, `Name` of type string, and `Event` of type string. This class is used to represent a data transfer object (DTO) for publishing platform-related events.                                                                                                                                                                                         |
| [PlatformReadDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Dtos/PlatformReadDto.cs)           | The code defines a DTO (Data Transfer Object) class called PlatformReadDto. It has four properties: Id (integer), Name (string), Publisher (string), and Cost (string). This class is used for transferring platform data within the PlatformService.                                                                                                                                                                                                                                                          |
| [GenericEventDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Dtos/GenericEventDto.cs)           | The code in the file "GenericEventDto.cs" within the "CommandsService/Dtos" directory defines a class called "GenericEventDto." This class has a single property called "Event" of type string.                                                                                                                                                                                                                                                                                                                |
| [PlatformPublishedDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Dtos/PlatformPublishedDto.cs) | The code represents a PlatformPublishedDto class in the CommandsService project. It has three properties-Id, Name, and Event-which represent the details of a platform that has been published.                                                                                                                                                                                                                                                                                                                |
| [CommandCreateDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Dtos/CommandCreateDto.cs)         | The code defines a class called CommandCreateDto in the file "CommandCreateDto.cs". This class is part of the "CommandsService" directory in the overall directory structure. The CommandCreateDto class has two properties: "HowTo" and "CommandLine". Both properties are of type string and are required, meaning they must have a value when creating an instance of the class. The properties are initialized to null and have the [Required] attribute applied to them, enforcing their required nature. |
| [CommandReadDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Dtos/CommandReadDto.cs)             | The code defines a class called CommandReadDto in the CommandsService.Dtos namespace. It has four properties: Id, HowTo, CommandLine, and PlatformId. These properties represent the attributes of a command and are used to transfer data related to a command between different components of the application.                                                                                                                                                                                               |
| [PlatformReadDto.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Dtos/PlatformReadDto.cs)           | The code defines a C# class called PlatformReadDto within the Dtos folder of the CommandsService project. The class has two properties: Id, an integer representing the platform's ID, and Name, a string representing the platform's name. The Name property is assigned a default value of null.                                                                                                                                                                                                             |

</details>

<details closed><summary>Properties</summary>

| File                                                                                                                             | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---                                                                                                                              | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [launchSettings.json](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Properties/launchSettings.json) | The code provided is a launchSettings.json file located in the Properties folder of the PlatformService directory. It contains settings related to the launch and hosting of the PlatformService application. It defines two profiles: "IIS Express" and "PlatformService". These profiles specify different launch settings for the application, including the command to run the application, whether to launch a browser, the launch URL, application URL, and environment variables. The "PlatformService" profile is set to run the application using the dotnet run command, with additional settings for displaying run messages and specifying multiple application URLs. |
| [launchSettings.json](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Properties/launchSettings.json) | The code is a launch settings file for the CommandsService project in the MicroServices solution. It contains configurations for running the application with IIS Express or as a standalone project. The settings specify the application's URLs, whether to launch a browser, and the ASPNETCORE_ENVIRONMENT variable.                                                                                                                                                                                                                                                                                                                                                          |

</details>

<details closed><summary>Workflows</summary>

| File                                                                                                                  | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ---                                                                                                                   | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [dotnet.yml](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/.github/workflows/dotnet.yml) | The code is a GitHub Actions workflow written in YAML that automates the build and test processes for a.NET project. It is triggered by push events to the "main" branch and pull requests targeting the "main" branch. The workflow runs on an Ubuntu environment and consists of several steps:1. Checking out the repository2. Setting up the.NET runtime version to 6.0.x3. Restoring project dependencies4. Building the project5. Running tests with normal verbosity levelOverall, this workflow ensures the project is built successfully and tests are executed as part of the continuous integration process. |

</details>

<details closed><summary>Profiles</summary>

| File                                                                                                                           | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ---                                                                                                                            | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [PlatformsProfile.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Profiles/PlatformsProfile.cs) | This code defines a class called `PlatformsProfile` that inherits from the `Profile` class of AutoMapper. It contains mapping configurations for different types of objects. The mappings include converting instances of `Platform` to `PlatformReadDto`, `PlatformCreateDto` to `Platform`, and `PlatformReadDto` to `PlatformPublishedDto`. Additionally, there is a mapping from `Platform` to `GrpcPlatformModel` with specific member mappings for `PlatformId`, `Name`, and `Publisher`.                                                                                                                                                                                            |
| [CommandsProfile.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Profiles/CommandsProfile.cs)   | The code in the "CommandsProfile.cs" file within the "CommandsService" directory defines a AutoMapper profile. This profile is responsible for mapping between different data transfer objects (DTOs) and models used in the CommandsService project. It includes mappings for Platform, Command, and GrpcPlatformModel objects to their corresponding DTOs or models. Specifically, it maps Platform objects to PlatformReadDto, CommandCreateDto objects to Command, Command objects to CommandReadDto, PlatformPublishedDto objects to Platform (with some additional mapping configurations), and GrpcPlatformModel objects to Platform (with some additional mapping configurations). |

</details>

<details closed><summary>Controllers</summary>

| File                                                                                                                                    | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ---                                                                                                                                     | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [PlatformsController.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Controllers/PlatformsController.cs) | The `PlatformsController.cs` file is part of the PlatformService project and contains the controller logic for handling HTTP requests related to platforms. It includes dependencies for repository, mapper, command data client, and message bus client. This code defines three API endpoints:-`GetPlatforms` returns a list of all platforms as `PlatformReadDto` objects.-`GetPlatformById` retrieves a specific platform by its ID and returns it as a `PlatformReadDto` object.-`CreatePlatform` accepts a `PlatformCreateDto` object in the HTTP request body, creates a new platform based on the provided data, and returns the newly created platform as a `PlatformReadDto` object.The `CreatePlatform` method also performs two asynchronous actions:-It sends a platform object to the `commandDataClient` using the `SendPlatformToCommand` method.-It publishes a new platform object to the `messageBusClient` using the `PublishNewPlatform` method. |
| [PlatformsController.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Controllers/PlatformsController.cs) | The `PlatformsController` class in the `CommandsService` directory is a controller responsible for handling HTTP requests related to platforms. It has two routes defined:-The `GET /api/c/platforms` route returns a collection of platform data from the `ICommandRepo` repository. The data is then mapped to the `PlatformReadDto` type and returned as an HTTP response.-The `POST /api/c/platforms` route is used to test the inbound connection to the `CommandsService`. It simply returns a success message as an HTTP response.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [CommandsController.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Controllers/CommandsController.cs)   | The code represents a Commands Controller in the CommandsService module of a Microservices project. It handles HTTP requests related to commands for a specific platform. The controller has methods for retrieving commands, getting a specific command, and creating a new command for a platform. It interacts with the ICommandRepo interface for data access and uses an IMapper for object mapping.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

</details>

<details closed><summary>Data</summary>

| File                                                                                                                 | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ---                                                                                                                  | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [AppDbContext.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Data/AppDbContext.cs)   | The provided code represents the data layer of the PlatformService in the MicroServices solution. It consists of a class named AppDbContext that extends DbContext from the Entity Framework Core library. This class has a constructor that takes DbContextOptions as a parameter and uses it to initialize the base class. It also includes a property Platforms of type DbSet<Platform> to represent the Platforms table in the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [PlatformRepos.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Data/PlatformRepos.cs) | The code provided is a part of a microservices architecture. It is a data access component responsible for interacting with the "Platform" entity in the "PlatformService" microservice. It contains methods for creating a new platform, retrieving all platforms, retrieving a platform by ID, and saving changes to the underlying data context.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [PrepDb.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Data/PrepDb.cs)               | The `PrepDb.cs` file is responsible for populating the database with initial data. It contains a static class `PrepDb` with a method `PrepPopulation` that takes an `IApplicationBuilder` and a boolean `isProd` as parameters. Within the method, it creates a service scope using `CreateScope()` and uses the `ServiceProvider` to get an instance of `AppDbContext`. Then, it calls the `SeedData` method, passing the context and `isProd` boolean.The `SeedData` method takes the `AppDbContext` and `isProd` as parameters. If `isProd` is true, it attempts to apply any pending migrations using `context.Database.Migrate()`. If there are any errors, it prints an error message. Next, it checks if there are any existing `Platforms` in the database. If not, it adds three `Platform` objects with specific name, publisher, and cost values. Finally, it saves the changes to the database using `context.SaveChanges()`.                                                   |
| [IPlatformRepo.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/PlatformService/Data/IPlatformRepo.cs) | Exception:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [ICommandRepo.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Data/ICommandRepo.cs)   | The code represents the ICommandRepo interface within the CommandsService project. This interface defines the core functionalities for interacting with the data layer related to platforms and commands. It includes methods for saving changes, creating a new platform, checking if a platform exists, retrieving all platforms, retrieving commands for a specific platform, retrieving a command by its ID, and creating a new command for a platform.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [AppDbContext.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Data/AppDbContext.cs)   | The code above defines the `AppDbContext` class, which is responsible for managing the database context and defining the database schema for the `CommandsService` microservice. It extends the `DbContext` class from Entity Framework Core and includes two DbSet properties (`Commands` and `Platforms`) that represent the corresponding database tables. The `OnModelCreating` method sets up the relationships between the `Platform` and `Command` entities using foreign key constraints.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [PrepDb.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Data/PrepDb.cs)               | The code is a class called "PrepDb" located in the "CommandsService/Data" directory. It contains a method called "PrepPopulation" that takes an "IApplicationBuilder" object as a parameter. The method uses dependency injection to retrieve an instance of "IPlatformDataClient" through the service provider. It then calls the "ReturnAllPlatforms" method on the "grpcClient" to retrieve a collection of platform objects.The "SeedData" method is then called, passing in an instance of "ICommandRepo" and the collection of platforms. Within the "SeedData" method, it checks if each platform already exists in the command repository using "ExternalPlatformExists" method. If the platform doesn't exist, it creates it using the "CreatePlatform" method. Finally, it saves the changes to the command repository using the "SaveChanges" method.Overall, this code prepares the database by seeding new platforms retrieved from a gRPC client into the command repository. |
| [CommandRepo.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Data/CommandRepo.cs)     | The code represents the CommandRepo class in the CommandsService project. It provides the functionalities for interacting with the database related to commands and platforms. The class includes methods for creating commands and platforms, checking the existence of external platforms, retrieving commands and platforms, and saving changes to the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

</details>

<details closed><summary>.github</summary>

| File                                                                                                | Summary                                                                                                                                                                                                                                                                                                                               |
| ---                                                                                                 | ---                                                                                                                                                                                                                                                                                                                                   |
| [dependabot.yml](https://github.com/alikemalbilgili/MicroServices/blob/main/.github/dependabot.yml) | The code is a configuration file named `dependabot.yml`. It specifies the configuration options for Dependabot, a tool used for automating dependency updates. In this case, it is set to perform updates for the "nuget" package ecosystem on a weekly basis. The directory specified is the root directory ("/") of the repository. |

</details>

<details closed><summary>Commandsservice</summary>

| File                                                                                                                                    | Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ---                                                                                                                                     | ---                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [dockerfile](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/dockerfile)                                     | The code is responsible for building and running a Docker container for the CommandsService microservice. It uses the dotnet SDK to build the application, copies the necessary files, and publishes the application in release mode. Then, it sets up another Docker container using the dotnet ASP.NET runtime and copies the published files from the previous step. Finally, it sets the entry point for the container to run the CommandsService.dll file.                                                                                                                                                    |
| [CommandsService.csproj](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/CommandsService.csproj)             | The code is a.NET web project called "CommandsService" with a target framework of.NET 7.0. It utilizes various packages, including AutoMapper, Google.Protobuf, and Microsoft.EntityFrameworkCore, to handle mapping, protobuf serialization, and database interaction. It also incorporates gRPC communication with a platform service using the Protos/platforms.proto file. Additionally, it includes dependencies for Swagger documentation (Swashbuckle.AspNetCore) and RabbitMQ messaging (RabbitMQ.Client).                                                                                                 |
| [appsettings.Development.json](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/appsettings.Development.json) | The code provided is a JSON configuration file located at "CommandsService/appsettings.Development.json". It contains various settings for the CommandsService microservice, including logging level, RabbitMQ host and port, and the gRPC platform URL.                                                                                                                                                                                                                                                                                                                                                           |
| [appsettings.Production.json](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/appsettings.Production.json)   | The code is a part of a microservices architecture. It contains two microservices, "CommandsService" and "PlatformService". The "CommandsService" microservice handles commands and events related to commands, while the "PlatformService" microservice deals with platforms. The code represents the file structure of these microservices, including different folders for data, controllers, models, DTOs, and profiles. It also includes configuration files such as appsettings.Production.json, which specifies logging settings, allowed hosts, RabbitMQ host and port, and the URL for the GRPC platform. |
| [Program.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/Program.cs)                                     | The code in the `Program.cs` file of the `CommandsService` directory sets up and configures the dependencies and services for a web application. It adds a database context, repositories, controllers, automapper, and event processing services to the container. It also configures Swagger/OpenAPI for API documentation. Finally, it prepares and populates the database and runs the application.                                                                                                                                                                                                            |

</details>

<details closed><summary>Eventprocessing</summary>

| File                                                                                                                                | Summary                                                                                                                                                                                                                                                                                                                                         |
| ---                                                                                                                                 | ---                                                                                                                                                                                                                                                                                                                                             |
| [IEventProcessor.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/EventProcessing/IEventProcessor.cs) | The code above defines an interface called IEventProcessor in the EventProcessing namespace of the CommandsService project. This interface has a single method called ProcessEvent, which takes a string parameter. The purpose of this interface is to provide a contract for classes that will process events in the CommandsService project. |
| [EventProcessor.cs](https://github.com/alikemalbilgili/MicroServices/blob/main/CommandsService/EventProcessing/EventProcessor.cs)   | Exception:                                                                                                                                                                                                                                                                                                                                      |

</details>

---

##  Getting Started

***Dependencies***

Please ensure you have the following dependencies installed on your system:

`- ℹ️ Docker with Kubernetes`

###  Installation

1. Clone the MicroServices repository:
```sh
git clone https://github.com/alikemalbilgili/MicroServices
```

2. Change to the project directory:
```sh
cd MicroServices/PlatformService
```

3. Install the dependencies:
```sh
dotnet build
```

4. Running PlatformService:

```sh
dotnet run
```


4. Change to the project directory:
```sh
cd ../CommandService
```

5. Install the dependencies:
```sh
dotnet build
```

6. Running CommandService:

```sh
dotnet run
```




